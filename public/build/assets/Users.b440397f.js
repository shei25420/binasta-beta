import{u as b,a as d,c as f,w as i,b as t,d as m,e as o,f as h,v,g,t as y,h as w,i as x,k as B}from"./app.a4d0622f.js";import{e as c,D as S}from"./dataTables.bootstrap5.7051d5c7.js";import"./dataTables.responsive.7b6d191c.js";import{_ as U}from"./ModalComponent.638f94c6.js";import{_ as k}from"./GenericLayout.4d1b5c9b.js";import"./app.min.a7c44671.js";import"./index.c36f1d74.js";import"./_plugin-vue_export-helper.cdc0426e.js";const D={class:"card"},E=t("div",{class:"card-header"},[t("h5",null,"Users"),t("button",{type:"button",id:"modalBtn","data-bs-toggle":"modal","data-bs-target":"#exampleModal",class:"btn btn-icon btn-primary"},[t("i",{class:"bi bi-plus-circle"}),B(" Add User ")])],-1),N={class:"card-body"},M=t("thead",null,[t("tr",null,[t("th",null,"Email"),t("th",null,"No.Of Orders"),t("th",null,"Created At")])],-1),T=["onSubmit"],V={class:"row"},A={class:"col"},C={class:"form-group"},F=t("label",{for:"email"},"Email",-1),O={key:0,class:"invalid-feedback"},$=t("div",{class:"form-group mt-4"},[t("button",{type:"button",class:"btn btn-danger",style:{"margin-right":"10px"},"data-bs-dismiss":"modal"},"Close"),t("button",{id:"submitBtn",type:"submit",class:"btn btn-primary"},"Save")],-1),J={__name:"Users",props:{users:Array},setup(u){c.use(S);const e=b({email:""}),_=()=>{let s="0123456789abcdefghijklmnopqrstuvwxyz!@#$%^&*()ABCDEFGHIJKLMNOPQRSTUVWXYZ",a=12,r="";for(let n=0;n<=a;n++){let l=Math.floor(Math.random()*s.length);r+=s.substring(l,l+1)}return r},p=()=>{if(e.clearErrors(),!e.email||e.email.trim()==""){e.setError("email","email field is required");return}const s=document.getElementById("submitBtn");s.innerText="Saving...",e.transform(a=>({...a,password:_()})).post("/users",{onSuccess:()=>{e.reset()},onFinish:()=>{s.innerText="Save"}})};return(s,a)=>(d(),f(k,null,{default:i(()=>[t("div",D,[E,t("div",N,[m(o(c),{id:"dt",class:"display table table-responsive",options:{responsive:!0},data:u.users,columns:[{data:"email"},{data:"orders_count"},{data:"created_at",render:r=>new Date(r).toDateString()}]},{default:i(()=>[M]),_:1},8,["data","columns"])])]),m(U,{title:"Add User"},{default:i(()=>[t("form",{onSubmit:x(p,["prevent"])},[t("div",V,[t("div",A,[t("div",C,[F,h(t("input",{type:"email","onUpdate:modelValue":a[0]||(a[0]=r=>o(e).email=r),class:"form-control"},null,512),[[v,o(e).email]]),o(e).errors.email?(d(),g("div",O,y(o(e).errors.email),1)):w("",!0)])])]),$],40,T)]),_:1})]),_:1}))}};export{J as default};
